{% raw %}
<section class="sidenav-container"
         id="boundaries-panel"
         ng-controller="boundariesController as vm"
         layout="row"
         flex="20"
         ng-cloak>

<md-sidenav class="md-sidenav-right md-sidenav"
            md-component-id="boundariesSidenav"
            md-disable-backdrop
            md-is-locked-open="$mdMedia('gt-xs')"
            md-whiteframe="4"
            flex>

    <!-- PRIMARY TOOLBAR -->
    <md-toolbar class="md-default">
        <div class="md-toolbar-tools">
            <span>
                <h4>
                <md-icon>filter_list</md-icon>
                Boundaries
                </h4>
            </span>
            <span flex></span>
            <md-button class="md-fab"
                       type="file"
                       ngf-select="vm.uploadShapeFile($file, $invalidFiles, $event)">
                <md-icon>file_upload</md-icon>
            </md-button>
        </div>
    </md-toolbar>

    <!-- BOUNDARIES WITH FILTER -->
    <md-content layout="column" flex>

        <div class="md-whiteframe-2dp" id="boundaries-container" layout-margin>
            <md-subheader class="md-primary">Boundaries</md-subheader>

            <v-accordion class="vAccordion--default" multiple
                         layout-margin>
                <v-pane id="{{region.id}}"
                        ng-class="{'has-data': region.has_data}"
                        ng-click="vm.expandCallback(region, $event)"
                        ng-repeat="region in vm.boundaries"
                        expanded="region.isExpanded" >
                    <v-pane-header>
                        <div layout="row" flex>
                            <span>{{ region.name }}</span>
                            <md-progress-circular
                                    flex="10"
                                    md-mode="indeterminate"
                                    md-diameter="30px"></md-progress-circular>
                        </div>
                    </v-pane-header>
                    <v-pane-content>


                        <v-accordion class="vAccordion--default" multiple
                                     layout-margin>
                            <v-pane id="{{province.id}}"
                                    ng-class="{'has-data': province.has_data}"
                                    ng-click="vm.expandCallback(province, $event)"
                                    ng-repeat="province in region.children"
                                    expanded="province.isExpanded">
                                <v-pane-header>
                                    <div layout="row" flex>
                                        <span flex>{{ province.name }}</span>
                                        <md-progress-circular
                                                flex="10"
                                                md-mode="indeterminate"
                                                md-diameter="30px"></md-progress-circular>
                                    </div>
                                </v-pane-header>
                                <v-pane-content>

                                    <v-accordion class="vAccordion--default" multiple
                                                 layout-margin
                                                 ng-cloak
                                                 ng-if="province.children">
                                        <v-pane id="{{city.id}}"
                                                ng-class="{'has-data': city.has_data}"
                                                ng-click="vm.expandCallback(city, $event)"
                                                ng-repeat="city in province.children"
                                                expanded="city.isExpanded">
                                            <v-pane-header>
                                                <div layout="row" flex>
                                                    <span flex>{{ city.name }}</span>
                                                    <md-progress-circular
                                                        flex="10"
                                                        md-mode="indeterminate"
                                                        md-diameter="30px"></md-progress-circular>
                                                </div>
                                            </v-pane-header>
                                            <v-pane-content>


                                                <md-list ng-if="city.children">
                                                    <md-list-item ng-repeat="brgy in city.children"
                                                                  id="{{brgy.id}}"
                                                                  ng-class="{'has-data': brgy.has_data}"
                                                                  ng-click="vm.showBoundary(brgy);$event.stopPropagation()">
                                                        <div class="md-list-item-text" layout="row" flex>
                                                            <span flex>{{ brgy.name }}</span>
                                                            <md-progress-circular
                                                                    flex="10"
                                                                    md-mode="indeterminate"
                                                                    md-diameter="30px"></md-progress-circular>
                                                        </div>
                                                    </md-list-item>
                                                </md-list>


                                            </v-pane-content>
                                        </v-pane>
                                    </v-accordion>

                                </v-pane-content>
                            </v-pane>
                        </v-accordion>

                    </v-pane-content>
                </v-pane>
            </v-accordion>

        </div>

    </md-content>

</md-sidenav>
</section>
{% endraw %}