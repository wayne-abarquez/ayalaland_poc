{% raw %}
<md-dialog id="lot-result-table" ng-controller="lotResultTableController as lotResultTblCtl"
           ng-show="lotResultTblCtl.lots.length && !hasOpenedModal"
           ng-cloak>

    <md-toolbar>
        <div class="md-toolbar-tools">
            <span>Lot Result</span>
            <span flex></span>
            <md-button class="md-icon-button" ng-click="lotResultTblCtl.close()"><md-icon>close</md-icon></md-button>
        </div>
    </md-toolbar>

    <md-dialog-content>
        <md-table-container>
            <table md-table>
                <thead md-head>
                    <tr>
                        <th>Lot Offer No.</th>
                        <th>Estate Name</th>
                        <th>Project Name</th>
                        <th>SBU</th>
                        <th>Address</th>
                        <th>Lot Status</th>
                        <th>Legal Status</th>
                        <th>Technical Status</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody md-body>
                <tr md-row ng-repeat="lot in lotResultTblCtl.lots" data-lot-id="{{lot.id}}" ng-click="lotResultTblCtl.rowOnClick(lot.id)">
                    <td md-cell>{{lot.id}}</td>
                    <td md-cell>{{lot.estate_name}}</td>
                    <td md-cell>{{lot.project_name}}</td>
                    <td md-cell>{{lot.sbu}}</td>
                    <td md-cell>{{lot.complete_address}}</td>
                    <td md-cell>{{ lot.lot_status }}</td>
                    <td md-cell>{{ lot.legal_status }}</td>
                    <td md-cell>{{ lot.technical_status }}</td>
                    <td md-cell>
                        <md-button class="md-icon-button" ng-click="lotResultTblCtl.showLotDetails(lot.id)">
                            <md-tooltip md-direction="top">Show Details</md-tooltip>
                            <md-icon>visibility</md-icon>
                        </md-button>
                        <!--<md-button class="md-icon-button" ng-click="lotResultTblCtl.reportLotIssue(lot.id)" ng-if="['MDC', 'LEGAL'].indexOf(currentUser.role) > -1  && lot.lot_status == 'DUE DILIGENCE IN PROGRESS'">-->
                        <md-button class="md-icon-button" ng-click="lotResultTblCtl.reportLotIssue(lot.id)"
                                   ng-if="['MDC', 'LEGAL'].indexOf(currentUser.role) > -1">
                        <md-tooltip md-direction="top">Report Issue</md-tooltip>
                            <md-icon>warning</md-icon>
                        </md-button>
                    </td>
                </tr>
                </tbody>
            </table>
        </md-table-container>
    </md-dialog-content>

</md-dialog>
{% endraw %}
